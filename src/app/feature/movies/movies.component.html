<ng-container *ngIf="result$ | async as movies; else loading">
  <div class="container">
    <div class="row">
      <h1>
        Films correspondants à : &laquo; {{ searchString }} &raquo;
        <small class="text-muted"
          >{{ movies.total_results }} résultats &#8226; Page
          {{ movies.page }} sur {{ movies.total_pages }}</small
        >
      </h1>
    </div>

    <ng-container *ngIf="movies.results.length > 0; else noData">
      <div class="row">
        <ng-container *ngFor="let movie of movies.results">
          <app-tiles [movie]="movie"></app-tiles>
        </ng-container>
      </div>
    </ng-container>
    <mat-paginator
      [length]="movies.total_results"
      [pageSize]="20"
      [hidePageSize]="true"
      (page)="changePage($event)"
      showFirstLastButtons
    >
    </mat-paginator>
  </div>
</ng-container>

<ng-template #loading>
  <mat-spinner></mat-spinner>
</ng-template>
<ng-template #noData>Aucun film ne correspond à votre recherche</ng-template>
